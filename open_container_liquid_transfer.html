<!DOCTYPE HTML>
<html>
<head>
    <title>Hybrid-Diffusion - Open-Container Liquid Transfer Experiments</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
  <style>
/* (Include this with your other styles) */

/* VS (side-by-side) layout */
.trial-row { display:flex; flex-direction:row; align-items:flex-start; justify-content:center; gap:40px; margin-bottom:40px; flex-wrap:wrap; }
.trial-col { width:320px; }
.trial-col h4 { text-align:center; margin-bottom:8px; }
.vs-label { text-align:center; margin:24px 0 12px; font-size:1.2em; font-weight:600; }

/* Grid layout */
.category-title { width:100%; margin-top:40px; margin-bottom:20px; }
.video-grid { display:flex; flex-wrap:wrap; gap:20px; margin-bottom:30px; }
.video-item { width:320px; }

/* Toggle button — high-specificity safe overrides to ensure label is visible */
#viewToggleBtn.view-toggle,
.view-toggle#viewToggleBtn,
button.view-toggle#viewToggleBtn {
  display:inline-block !important;
  margin:12px auto 24px !important;
  padding:8px 14px !important;
  border-radius:6px !important;
  border:1px solid #888 !important;
  background-color:#fff !important;
  background-image:none !important;
  cursor:pointer !important;
  font-weight:600 !important;
  text-align:center !important;

  /* Critical text visibility overrides */
  color:#000 !important;                 /* show text */
  -webkit-text-fill-color: #000 !important;
  font-size:15px !important;             /* avoid font-size:0 overrides */
  line-height:1.2 !important;
  text-indent:0 !important;              /* undo text-indent hiding */
  text-transform:none !important;        /* readable casing */
  overflow:visible !important;
}

/* Block any pseudo-elements that might replace or hide label */
#viewToggleBtn.view-toggle::before,
#viewToggleBtn.view-toggle::after,
.view-toggle::before,
.view-toggle::after {
  content: none !important;
  display: none !important;
}

/* If the theme forces icon fonts / masking, ensure text sits above */
#viewToggleBtn.view-toggle * {
  color: inherit !important;
  -webkit-text-fill-color: inherit !important;
}

/* Small responsive tweak */
@media (max-width:420px) {
  #viewToggleBtn.view-toggle { font-size:14px !important; padding:6px 10px !important; }
}
</style>

</head>
<body class="is-preload">

<!-- Header -->
<header id="header">
    <a href="index.html" class="title">Hybrid-Diffusion Models: Combining Open-loop Routines with Visuomotor Diffusion Policies</a>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
        </ul>
    </nav>
</header>

<!-- Wrapper -->
<div id="wrapper">

<section id="main" class="wrapper style3 spotlight">
    <div class="inner">
        <div class="divtitle">
            <article class="col-4 col-12-xsmall work-item">
                <h2>Open-Container Liquid Transfer - Hybrid-Diffusion vs Baseline Diffusion</h2>
            </article>
        </div>

        <div id="video-sections">
            <!-- Videos inserted by JavaScript -->
        </div>



    <div style="text-align:center; width:100%; margin-top:20px;">
  <img src="files/results_oclt.png"
       alt="results"
       style="display:inline-block; width:720px; max-width:80%; height:auto; object-fit:contain;">
</div>

  </div>




    </div>
</section>

</div>

<!-- Footer -->
<footer id="footer" class="wrapper alt">
    <div class="inner">
        <ul class="menu">
            <li>&copy; All rights reserved.</li>
            <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        </ul>
    </div>
</footer>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<script>
/* Comparison vs Category view toggle */
let comparisonView = true;

const categories = [
  { title: "Hybrid-Diffusion", folder: "videos/syringe/explicit", prefix: "demo_", count: 7 },
  { title: "Baseline Diffusion", folder: "videos/syringe/implicit", prefix: "demo_", count: 7 }
];

const videoSections = document.getElementById('video-sections');

function videoMarkup(category, trialNumber, label) {
  const filename = `${category.folder}/${category.prefix}${trialNumber}.mp4`;
  return `
    <div class="trial-col">
      <h4>${label}</h4>
      <video width="320" height="240" controls>
        <source src="${filename}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  `;
}

function renderVsView(leftCat, rightCat) {
  videoSections.insertAdjacentHTML("beforeend", `<div class="vs-label"></div>`);
  const maxTrials = Math.max(leftCat.count, rightCat.count);
  for (let i = 1; i <= maxTrials; i++) {
    const trial = i.toString().padStart(2, "0");
    const leftHtml = i <= leftCat.count ? videoMarkup(leftCat, trial, `Hybrid Diffusion – Trial ${trial}`) : `<div class="trial-col"><h4>Hybrid – Trial ${trial}</h4><p style="text-align:center;color:#666">N/A</p></div>`;
    const rightHtml = i <= rightCat.count ? videoMarkup(rightCat, trial, `Baseline Diffusion – Trial ${trial}`) : `<div class="trial-col"><h4>Baseline – Trial ${trial}</h4><p style="text-align:center;color:#666">N/A</p></div>`;
    videoSections.insertAdjacentHTML("beforeend", `<div class="trial-row">${leftHtml}${rightHtml}</div>`);
  }
}

function renderGridView(categoriesArr) {
  categoriesArr.forEach(category => {
    const containerId = `video-grid-${category.title.replace(/\s+/g,'-')}`;
    videoSections.insertAdjacentHTML('beforeend', `<h3 class="category-title">${category.title}</h3><div class="video-grid" id="${containerId}"></div>`);
    const container = document.getElementById(containerId);
    for (let i = 1; i <= category.count; i++) {
      const trialNumber = i.toString().padStart(2, '0');
      container.insertAdjacentHTML('beforeend', `
        <div class="video-item">
          <article class="work-item">
            <h4>trial ${trialNumber}</h4>
            <video width="320" height="240" controls>
              <source src="${category.folder}/${category.prefix}${trialNumber}.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </article>
        </div>
      `);
    }
  });
}

function clearVideos() { videoSections.innerHTML = ''; }

function makeToggleHtml() {
  // type="button" prevents accidental form submit and is explicit
  const label = comparisonView ? 'Switch to Category View' : 'Switch to Comparison View';
  return `<div style="text-align:center;margin-bottom:16px;"><button type="button" id="viewToggleBtn" class="view-toggle">${label}</button></div>`;
}

function renderAll() {
  clearVideos();
  videoSections.insertAdjacentHTML('beforeend', makeToggleHtml());

  // Ensure the element exists, then attach handler and enforce visible label as fallback
  const btn = document.getElementById('viewToggleBtn');
  if (btn) {
    // explicit fallback: set innerText after insertion in case theme changes innerHTML
    btn.innerText = comparisonView ? 'Switch to Category View' : 'Switch to Comparison View';

    // event
    btn.addEventListener('click', () => setComparisonView(!comparisonView));
  }

  if (comparisonView) {
    const leftCat = categories[0] || { count: 0, folder: '', prefix: '' };
    const rightCat = categories[1] || { count: 0, folder: '', prefix: '' };
    renderVsView(leftCat, rightCat);
  } else {
    renderGridView(categories);
  }
}

function setComparisonView(value) {
  comparisonView = !!value;
  renderAll();
}

/* Initial render */
renderAll();

/* Allow toggling from console */
window.setComparisonView = setComparisonView;
</script>




</body>
</html>
